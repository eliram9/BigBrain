{"version":3,"file":"static/js/952.b66f285d.chunk.js","mappings":"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","sources":["apollo/formatDate.js","components/ContactFooter.jsx","components/quries/fetchArticle.js","apollo/htmlHandler.js","components/ui-elements/ScrollProgressBar.jsx","components/hooks/useCalculateWords.jsx","components/pages/ArticleDetail.jsx"],"sourcesContent":["// mm-dd-yyyy\nexport function formatDate(timestamp) {\n    const date = new Date(parseInt(timestamp, 10)); // Convert milliseconds to Date object\n    const day = String(date.getUTCDate()).padStart(2, '0'); // Get the day with leading zero\n    const month = String(date.getUTCMonth() + 1).padStart(2, '0'); // Get the month (0-indexed) with leading zero\n    const year = date.getUTCFullYear(); // Get the year\n\n    // Use string concatenation instead of template literals\n    return month + '-' + day + '-' + year; // Return formatted date as MM/DD/YYYY\n}\n\n// name of the month-dd, yyyy\nexport function formatFullDate(timestamp) {\n    const date = new Date(parseInt(timestamp, 10)); // Convert milliseconds to Date object\n    const day = date.getUTCDate(); // Get the day\n    const month = date.toLocaleString('default', { month: 'long' }); // Get the full name of the month\n    const year = date.getUTCFullYear(); // Get the year\n\n    // Return formatted date as Month Day, Year\n    return month + ' ' + day + ', ' + year;\n}","import React from 'react';\n\nimport { Danger } from '../media/icons';\n\n\nconst ContactFooter = () => {\n    const currentYear = new Date().getFullYear();\n    \n    return (\n        <footer className=\"relative text-black text-center bottom-0 w-full h-full poppins dark:text-white bg-gradient-to-b from-white to-blue dark:from-black dark:to-black pt-10\n                           md:pt-10\"\n        >\n\n            {/* <div className='w-full flex justify-center absolute -top-[90px] left-1/2 transform -translate-x-1/2 dark:bg-black \n                            md:-top-8 xl:-top-[95px]'>\n                <div style={{ width: bannerWidth }} className='bg-white flex flex-row justify-between rounded-xl drop-shadow-lg border-white border border-opacity-20 px-16 py-8 sm:flex-col sm:justify-center sm:px-6 sm:py-4 dark:bg-darkGray dark:border-darkGray'>\n                    <div className='flex flex-col items-start justify-end text-3xl mb-4 sm:mb-0 sm:text-xl sm:items-center xl:text-2xl'>\n                        <h3 style={firstH3}>Ready to get started?</h3>\n                        <h3 style={secondH3}>Talk to us today</h3>\n                    </div>\n\n                    <div className='flex items-center text-white sm:mt-4 sm:justify-center'>\n                        <Link to=\"/contact-us\" className='bg-main text-sm py-2 px-4 rounded-xl flex items-center hover:bg-[#0E3A4A] sm:py-1 xs:text-xs'>\n                            I'm ready\n                            <span><Arrow /></span>\n                        </Link>\n                    </div>\n                </div>\n            </div> */}\n            <div className='flex h-auto justify-center items-end py-5 px-2 z-20 dark:bg-black'>\n                <div className='w-[1400px] py-7 px-5 border border-red-200 rounded-xl bg-white bg-opacity-[35%] dark:bg-black'>\n                    <div className='flex justify-center mb-2'>\n                        <Danger fill='#fda4af' />\n                    </div>\n                    <p className='font-medium py-2 text-sm xs:text-xs'>Amma Lucy LLC and or BigBrain is not a crisis facility.</p>\n                    <p className='font-medium pb-2 text-sm xs:text-xs'>Amma Lucy LLC and or BigBrain does not provide emergency services.</p>\n                    <p className='leading-5 font-light text-xs'>If you or someone you know is experiencing a mental health crisis, please call or text 988 at any time to be connected \n                    with a trained crisis counselor. </p>\n                    <p className='leading-5 font-light text-xs'>If you’re looking to find an incredible therapist for ongoing, proactive mental health care, you've found the right place. Take a deep \n                    breath and reach out to be connected today.\n                    </p>\n                </div>\n            </div>\n\n            <div className='pb-4'>\n                <p className=\"text-xs\">© {currentYear} All rights reserved to Amma Lucy LLC\n                    <span className='mx-1 dark:text-pink'>|</span>\n                    <a href=\"https://github.com/eliram9\" className=\"text-black hover:underline dark:text-white\" target=\"_blank\" rel=\"noopener noreferrer\">\n                        eliram9\n                    </a>\n                    &nbsp;&amp;&nbsp;\n                    <a href=\"https://github.com/ItayLevy1\" className=\"text-black hover:underline dark:text-white\" target=\"_blank\" rel=\"noopener noreferrer\">\n                        ItayLevy1\n                    </a>\n                </p>\n            </div>\n        </footer>\n    );\n}\n\nexport default ContactFooter\n","import gql from 'graphql-tag';\n\nexport const GET_ARTICLE_DETAIL = gql`\n    query ArticleQuery($id: ID!) {\n        article(id: $id) {\n            id\n            title\n            author\n            createdDate\n            openingImageUrl\n            category\n            summary\n            texts {\n                id\n                paragraph\n            }\n            sources{\n                id\n                sourceName\n                url\n            }\n        }\n    }\n`;","import DOMPurify from 'dompurify';\n\nexport const sanitizeAndPrepareHtml = (html) => {\n    const clean = DOMPurify.sanitize(html, {\n        ALLOWED_TAGS: [\n          'p', 'br', 'strong', 'em', 'u', 's',\n          'h1', 'h2', 'h3', 'ol', 'ul', 'li',\n          'a', 'img', 'video', 'sub', 'sup', 'span' // Include 'span'\n        ],\n        ALLOWED_ATTR: ['href', 'src', 'target', 'rel', 'class', 'style'], // Allow 'style'\n        ALLOW_DATA_ATTR: false,\n        ALLOWED_CSS_PROPERTIES: ['color', 'background-color'], // Allow specific CSS properties\n    });\n    const doc = new DOMParser().parseFromString(clean, 'text/html');\n\n    // Process <a> tags (hyperlinks) and apply styles\n    doc.querySelectorAll('a').forEach(link => {\n        const href = link.getAttribute('href');\n        if (href && !href.startsWith('http://') && !href.startsWith('https://')) {\n            link.setAttribute('href', `https://${href}`);\n        }\n        link.setAttribute('target', '_blank');\n        link.setAttribute('rel', 'noopener noreferrer');\n        // Apply the underline and color\n        link.style.textDecoration = 'underline';\n        link.style.color = '#124C5F'; // Main color\n    });\n\n    // Process <li> elements and apply styles\n\n\n    // Define regex patterns for media\n    const patterns = {\n        youtube: /(?:https?:\\/\\/)?(www\\.)?(youtube\\.com|youtu\\.be)\\/.+/,\n        giphy: /https?:\\/\\/(?:media|i)\\.giphy\\.com\\/(?:media\\/)?(?:v1\\.)?(?:[A-Za-z0-9]+\\/)?[A-Za-z0-9]+\\/[\\w-]+\\.(?:gif|webp)/i,\n        image: /https?:\\/\\/.*\\.(?:png|jpg|jpeg|gif|webp)/i\n    };\n\n    // Function to create media elements\n    const createMediaElement = (url, type) => {\n        // Create a unique identifier for this media element\n        const uniqueId = 'media-' + Math.random().toString(36).substr(2, 9);\n\n        // Create the CSS for responsive behavior\n        const responsiveCSS = `\n            <style>\n                #${uniqueId} {\n                    width: 50%;\n                }\n                @media (max-width: 768px) {\n                    #${uniqueId} {\n                        width: 80%;\n                    }\n                }\n                @media (max-width: 479px) {\n                    #${uniqueId} {\n                        width: 100%;\n                    }\n                }\n            </style>\n        `;\n\n        switch (type) {\n            case 'youtube':\n                const videoId = url.match(/(?:youtube\\.com\\/(?:[^/\\n\\s]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|.*[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/)[1];\n                return `\n                    ${responsiveCSS}\n                    <div style=\"display: flex; justify-content: center; margin: 20px 0;\">\n                        <iframe \n                            id=\"${uniqueId}\"\n                            height=\"350\" \n                            src=\"https://www.youtube.com/embed/${videoId}\" \n                            frameborder=\"0\" \n                            allow=\"autoplay; encrypted-media\" \n                            allowfullscreen\n                        ></iframe>\n                    </div>\n                `;\n            case 'giphy':\n                return `\n                    ${responsiveCSS}\n                    <div style=\"display: flex; justify-content: center; margin: 20px 0;\">\n                        <img \n                            id=\"${uniqueId}\"\n                            src=\"${url}\" \n                            alt=\"Giphy GIF\" \n                            style=\"height: auto; display: block;\"\n                        />\n                    </div>\n                `;\n            case 'image':\n                return `<div style=\"display: flex; justify-content: center; margin: 20px 0;\">\n                            <img src=\"${url}\" alt=\"Embedded Image\" style=\"width: 100%; max-height: 370px; object-fit: cover; display: block;\" />\n                        </div>`;\n            default:\n                return url;\n        }\n    };\n\n    // Function to process text content\n    const processTextContent = (text) => {\n        for (const [type, pattern] of Object.entries(patterns)) {\n            if (pattern.test(text)) {\n                return createMediaElement(text, type);\n            }\n        }\n        return text;\n    };\n\n    // Add padding or margin around <strong> and <em> elements, avoiding punctuation\n    const processStyledElements = () => {\n        // Select both <strong> and <em> elements for processing\n        const styledElements = doc.querySelectorAll('strong, em');\n        styledElements.forEach(el => {\n            const prevChar = el.previousSibling?.textContent?.slice(-1) || '';\n            const nextChar = el.nextSibling?.textContent?.[0] || '';\n\n            // Add margin when <strong> or <em> follows a comma or other symbols\n            if (prevChar === ',' || prevChar === '!' || prevChar === '.' || prevChar === ':' || /\\d/.test(prevChar)) {\n                el.style.marginLeft = '5px';\n            }\n\n            // Ensure space between normal text and <strong> or <em> if no space or punctuation is present\n            if (prevChar && !/\\s/.test(prevChar) && !/[.,!?;:()]/.test(prevChar)) {\n                el.style.marginLeft = '5px';\n            }\n\n            // Ensure space AFTER a comma if not already present\n            if (prevChar === ',' && nextChar && !/\\s/.test(nextChar)) {\n                // If next character is not a space after the comma, insert a space\n                el.previousSibling.textContent = el.previousSibling.textContent.trimEnd() + ' ';\n            }\n\n            // Optionally: add padding on both sides when not adjacent to punctuation\n            const isLetterOrNumber = /[a-zA-Z0-9]/;\n            const isPunctuation = /[.,!?;:()]/;\n\n            el.style.paddingRight = isLetterOrNumber.test(nextChar) && !isPunctuation.test(nextChar) ? '5px' : '0';\n        });\n    };\n\n    // Recursively process nodes\n    const processNode = (node) => {\n        if (node.nodeType === Node.TEXT_NODE) {\n            const newContent = processTextContent(node.textContent);\n            if (newContent !== node.textContent) {\n                const fragment = doc.createRange().createContextualFragment(newContent);\n                node.parentNode.replaceChild(fragment, node);\n            }\n        } else if (node.nodeType === Node.ELEMENT_NODE) {\n            Array.from(node.childNodes).forEach(processNode);\n        }\n    };\n\n    processNode(doc.body);\n    processStyledElements(); // Apply padding logic to <strong> and <em> elements\n    return doc.body.innerHTML;\n};","// src/ui-elements/ScrollProgressBar.js\nimport React, { useState, useEffect } from 'react';\n\nconst ScrollProgressBar = ({ isSticky }) => {\n    const [scrollProgress, setScrollProgress] = useState(0);\n\n    const handleScroll = () => {\n        const totalHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n        const currentScroll = window.scrollY;\n        const scrolled = (currentScroll / totalHeight) * 100;\n        setScrollProgress(scrolled);\n    };\n\n    useEffect(() => {\n        window.addEventListener('scroll', handleScroll, { passive: true });\n        return () => {\n            window.removeEventListener('scroll', handleScroll);\n        };\n    }, []);\n\n    return (\n        <div\n            className={`w-full h-2 bg-gray-200 z-40 ${isSticky ? 'fixed top-0' : 'relative'}`}\n            aria-hidden=\"true\"\n        >\n            <div\n                className=\"h-full bg-main\"\n                style={{\n                    width: `${scrollProgress}%`,\n                    transition: 'width 0.3s ease-out',\n                }}\n            ></div>\n        </div>\n    );\n};\n\nexport default ScrollProgressBar;","// src/hooks/useCalculateWords.js\n\nimport { useState, useEffect } from 'react';\n\nconst useCalculateWords = (texts) => {\n    const [totalWords, setTotalWords] = useState(0);\n\n    useEffect(() => {\n        if (texts && texts.length > 0) {\n            const totalWordCount = texts.reduce((total, textObj) => {\n                const wordCount = textObj.paragraph ? textObj.paragraph.split(' ').filter(word => word.trim() !== '').length : 0;\n                return total + wordCount;\n            }, 0);\n\n            setTotalWords(totalWordCount);\n        }\n    }, [texts]);\n\n    return totalWords;\n};\n\nexport default useCalculateWords; // Make sure to export the hook as default\n","import React, { useEffect, useState, useRef } from 'react';\n\nimport { useQuery } from '@apollo/client';\nimport { useParams } from 'react-router-dom';\nimport parse from 'html-react-parser';\nimport { Helmet } from 'react-helmet';\n\nimport { GET_ARTICLE_DETAIL } from '../quries/fetchArticle';\nimport { formatFullDate } from '../../apollo/formatDate';\nimport { sanitizeAndPrepareHtml } from '../../apollo/htmlHandler';\nimport ScrollProgressBar from '../ui-elements/ScrollProgressBar';\nimport useCalculateWords from '../hooks/useCalculateWords';\n// import { LikeIcon } from '../../media/icons';\nimport ContactFooter from '../ContactFooter';\n\nconst ArticleParagraph = ({ paragraph }) => {\n    const preparedHtml = sanitizeAndPrepareHtml(paragraph);\n    return (\n        <div className=\"prose prose-blog dark:prose-invert max-w-none\">\n            {parse(preparedHtml)}\n        </div>\n    );\n};\n\nconst ArticleSource = ({ sourceName, url }) => {\n    return (\n        <li className='text-darkGray py-2 text-md xs:text-[10px] sm:text-xs'>\n            <a href={url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-main underline hover:text-main/80\"\n            >\n                {sourceName}\n            </a>\n        </li>\n    );\n  }\n\nconst ArticleDetail = () => { \n    const { id } = useParams(); // Extract the article ID from the URL parameters\n    const { loading, error, data } = useQuery(GET_ARTICLE_DETAIL, {\n        variables: { id },\n    });\n    const [article, setArticle] = useState({ texts: [] }); // Initialize with an empty texts array\n    const [isSticky, setIsSticky] = useState(false); // Control stickiness\n    const imageRef = useRef(null); // Reference to the image\n    const totalWords = useCalculateWords(article.texts);  // Calculate total words using the custom hook\n\n    useEffect(() => {\n        if (data && data.article) {\n            setArticle(data.article);\n        }\n    }, [data]);\n\n    // Image \n    useEffect(() => {\n        let observer;\n        const currentImageRef = imageRef.current; // Save the current reference\n    \n        const setupObserver = () => {\n            observer = new IntersectionObserver(\n                ([entry]) => {\n                    setIsSticky(!entry.isIntersecting);\n                },\n                { threshold: 0 }\n            );\n    \n            if (currentImageRef) {\n                observer.observe(currentImageRef);\n            }\n        };\n    \n        // Set up the observer when the component mounts or when the image loads\n        if (currentImageRef && currentImageRef.complete) {\n            setupObserver();\n        } else if (currentImageRef) {\n            currentImageRef.onload = setupObserver;\n        }\n    \n        return () => {\n            if (observer && currentImageRef) {\n                observer.unobserve(currentImageRef);\n            }\n        };\n    }, [imageRef, article.openingImageUrl]); // Keep dependencies as they were\n\n    if (loading) return <p></p>;\n    if (error) return <p>Error: {error.message}</p>;\n\n    return (\n        <>\n            <Helmet>\n                <title>{`BigBrain Therapy | Blog - ${article.title}`}</title>  {/* Updated for conciseness */}\n                <meta name=\"description\" content={`${article.summary || 'Read this article on the BigBrain Therapy blog for insights on mental health, including EMDR therapy, trauma, ADHD, anxiety, depression, stress management, relationships, self-esteem, and life transitions in Maryland, Virginia, Arizona & Nebraska.'}`} />\n                <meta name=\"keywords\" content={`${article.category}, EMDR therapy, mental health, BigBrain Therapy, ${article.author}, trauma therapy, ADHD resources, anxiety counseling, depression support, stress management, relationship issues, self-esteem, life transitions`} />  {/* Fixed duplication, kept expanded list */}\n                <link rel=\"canonical\" href={`https://bigbraintherapy.com/blog/article/${id}`} />\n                <meta property=\"og:title\" content={article.title} />\n                <meta property=\"og:description\" content={`${article.summary || 'Read this article on the BigBrain Therapy blog for insights on mental health, including EMDR therapy, trauma, ADHD, anxiety, depression, stress management, relationships, self-esteem, and life transitions in Maryland, Virginia, Arizona & Nebraska.'}`} />\n                <meta property=\"og:image\" content={article.openingImageUrl} />\n                <meta property=\"og:url\" content={`https://bigbraintherapy.com/blog/article/${id}`} />\n                <meta property=\"og:type\" content=\"article\" />\n\n                {/* Add Breadcrumbs schema */}\n                <script type=\"application/ld+json\">\n                    {`\n                        {\n                            \"@context\": \"https://schema.org\",\n                            \"@type\": \"BreadcrumbList\",\n                            \"itemListElement\": [\n                                {\n                                    \"@type\": \"ListItem\",\n                                    \"position\": 1,\n                                    \"name\": \"Home\",\n                                    \"item\": \"https://bigbraintherapy.com/\"\n                                },\n                                {\n                                    \"@type\": \"ListItem\",\n                                    \"position\": 2,\n                                    \"name\": \"Blog\",\n                                    \"item\": \"https://bigbraintherapy.com/blog\"\n                                },\n                                {\n                                    \"@type\": \"ListItem\",\n                                    \"position\": 3,\n                                    \"name\": \"${article.title}\",\n                                    \"item\": \"https://bigbraintherapy.com/blog/article/${id}\"\n                                }\n                            ]\n                        }\n                    `}\n                </script>\n\n                {/* Add Article schema */}\n                <script type=\"application/ld+json\">\n                    {`\n                        {\n                            \"@context\": \"https://schema.org\",\n                            \"@type\": \"Article\",\n                            \"headline\": \"${article.title}\",\n                            \"image\": \"${article.openingImageUrl}\",\n                            \"author\": {\n                                \"@type\": \"Person\",\n                                \"name\": \"${article.author}\"\n                            },\n                            \"publisher\": {\n                                \"@type\": \"Organization\",\n                                \"name\": \"BigBrain Therapy\",\n                                \"logo\": {\n                                    \"@type\": \"ImageObject\",\n                                    \"url\": \"https://bigbraintherapy.com/logo192.png\"\n                                }\n                            },\n                            \"datePublished\": \"${article.createdDate}\",\n                            \"dateModified\": \"${article.createdDate}\",\n                            \"description\": \"${article.summary}\",\n                            \"mainEntityOfPage\": {\n                                \"@type\": \"WebPage\",\n                                \"@id\": \"https://bigbraintherapy.com/blog/article/${id}\"\n                            }\n                        }\n                    `}\n                </script>\n            </Helmet>\n            <section className='w-full h-auto overflow-hidden poppins dark:bg-black poppins'>\n                <div className='relative'>\n                    <img \n                        src={article.openingImageUrl}\n                        alt={article.title} \n                        className=\"w-full max-h-[400px] object-cover\"\n                        ref={imageRef}\n                    />                                                                                                                                                                                                       \n                </div>  \n\n                <ScrollProgressBar isSticky={isSticky} />   {/* Scroll Progress Bar Positioned Below the Image */}\n\n                <div className='max-w-[750px] mx-auto md:px-[2rem]'>\n                    <div className='flex items-center justify-between pt-6 pb-1'>\n                        <p className='text-slate-500 text-sm  dark:text-lightBanana xs:text-[8px] sm:text-xs'><span className='font-medium'>Last updated: </span>{formatFullDate(article.createdDate)}</p>\n                        <p className='text-main text-xs dark:text-banana'>&#9679;</p>\n                        <p className='text-slate-500 text-sm font-medium dark:text-lightBanana xs:text-[8px] sm:text-xs'>{article.category}</p>\n                        <p className='text-main text-xs  dark:text-banana'>&#9679;</p>\n                        <p className='text-main text-sm font-medium  dark:text-lightBanana xs:text-[8px] sm:text-xs'>{Math.trunc(totalWords / 200)} minutes read</p>\n                    </div>\n                    <div>\n                        <h1 className=\"text-black text-5xl font-bold dark:text-white mt-10 mb-5 \n                                      xs:text-2xl lg:text-4xl\"\n                        >\n                            {article.title}\n                        </h1>\n                    </div>\n                    <div>\n                        <p className=\"text-black text-xl font-semibold pb-2 pt-4 dark:text-white\n                                     sm:text-lg\"\n                        >\n                            {article.summary}\n                        </p>\n                    </div>\n                    <div className='flex justify-between items-center'>\n                        <div className='py-4 text-slate-500 text-sm dark:text-lightBanana'>\n                            <p className='font-medium'>By: {article.author}</p>\n                            <p className='xs:text-xs'>EMDR Therapist, LCSW-C</p>\n                        </div>\n\n                        \n                        {/* <div className='flex justify-between items-center text-main dark:text-white'>\n                            <p className='mr-1 font-light text-md'>13</p>\n                            <button className=\"border border-main p-1 rounded-full flex items-center justify-center\"\n                                    onClick={() => alert(\"works\")}\n                                    aria-label=\"Like\"\n                            >\n                                <LikeIcon />\n                            </button>\n                        </div> */}\n                    </div>\n\n                    <hr />\n\n                    <div className='h-full mt-10 leading-loose mb-32 '>\n                        {article.texts?.map((text, index) => {\n                            return (\n                                <ArticleParagraph key={text.id || index} paragraph={text.paragraph || text} />\n                            );\n                        })}\n                    </div>\n                    \n                    <hr />\n                    {article.sources && article.sources.length > 0 && (\n                        <div className=\"bg-babyBlue px-5 py-5 mt-10 rounded-lg mb-20 md:mb-0\">\n                            <h2 className=\"text-darkGray text-xl font-semibold mb-4 md:text-sm\">Sources</h2>\n                            <ol className=\"list-decimal list-inside space-y-2\">\n                                {article.sources.map((source) => (\n                                    <ArticleSource key={source.id}\n                                                   sourceName={source.sourceName}\n                                                   url={source.url}\n                                    />\n                                ))}\n                            </ol>\n                        </div>\n                    )}\n                </div>    \n            </section>\n            <ContactFooter />\n        </>\n    );\n}\n\nexport default ArticleDetail;"],"names":["formatDate","timestamp","date","Date","parseInt","day","String","getUTCDate","padStart","getUTCMonth","getUTCFullYear","formatFullDate","toLocaleString","month","ContactFooter","currentYear","getFullYear","_jsxs","className","children","_jsx","Danger","fill","href","target","rel","GET_ARTICLE_DETAIL","gql","_templateObject","_taggedTemplateLiteral","sanitizeAndPrepareHtml","html","clean","DOMPurify","ALLOWED_TAGS","ALLOWED_ATTR","ALLOW_DATA_ATTR","ALLOWED_CSS_PROPERTIES","doc","DOMParser","parseFromString","querySelectorAll","forEach","link","getAttribute","startsWith","setAttribute","concat","style","textDecoration","color","patterns","youtube","giphy","image","createMediaElement","url","type","uniqueId","Math","random","toString","substr","responsiveCSS","videoId","match","processNode","node","nodeType","Node","TEXT_NODE","newContent","text","pattern","Object","entries","test","processTextContent","textContent","fragment","createRange","createContextualFragment","parentNode","replaceChild","ELEMENT_NODE","Array","from","childNodes","body","el","_el$previousSibling","_el$previousSibling$t","_el$nextSibling","_el$nextSibling$textC","prevChar","previousSibling","slice","nextChar","nextSibling","marginLeft","trimEnd","paddingRight","innerHTML","_ref","isSticky","scrollProgress","setScrollProgress","useState","handleScroll","totalHeight","document","documentElement","scrollHeight","clientHeight","currentScroll","window","scrollY","useEffect","addEventListener","passive","removeEventListener","width","transition","texts","totalWords","setTotalWords","length","totalWordCount","reduce","total","textObj","paragraph","split","filter","word","trim","ArticleParagraph","preparedHtml","parse","ArticleSource","_ref2","sourceName","ArticleDetail","_article$texts","id","useParams","loading","error","data","useQuery","variables","article","setArticle","setIsSticky","imageRef","useRef","useCalculateWords","observer","currentImageRef","current","setupObserver","IntersectionObserver","_ref3","entry","isIntersecting","threshold","observe","complete","onload","unobserve","openingImageUrl","message","_Fragment","Helmet","title","name","content","summary","category","author","property","createdDate","src","alt","ref","ScrollProgressBar","trunc","map","index","sources","source"],"sourceRoot":""}